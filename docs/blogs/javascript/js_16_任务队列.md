## 任务管理

JavaScript中的EventLoop，会不断检测有没有可加入任务队列的任务。

- 主线程中的任务执行完后，才执行任务队列中的任务
- 有新任务到来时会将其放入队列，采取先进先执行的策略执行队列中的任务
- 比如多个 `setTimeout` 同时到时间了，就要依次执行

```js
setTimeout(()=>{
  console.log('定时器（宏任务）');
})
Promise.resolve().then(()=>{
  console.log('微任务');
})
console.log('同步任务');
//打印结果为：
//同步任务
//微任务
//定时器（宏任务）
```



### 脚本加载

引擎在执行任务时不会进行 DOM 渲染，所以如果把`script` 定义在前面，要先执行完任务后再渲染 DOM，建议将`script` 放在 BODY 结束标签前。





### 任务分解

一个比较耗时的任务可能造成游览器卡死现象

我们可以把它交给微任务，这样就不会照成阻塞了。